2024-09-29 15:01:32.091 +07:00 [ERR] JWT has expired.
Google.Apis.Auth.InvalidJwtException: JWT has expired.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at MBS_AUTHORIZATION.Application.UserCases.Queries.Identitiy.GetLoginGoogleQueryHandler.Handle(LoginGoogle request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\UserCases\Queries\Identitiy\GetLoginGoogleQueryHandler.cs:line 17
   at MBS_AUTHORIZATION.Application.Behaviors.TracingPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\TracingPipelineBehavior.cs:line 23
   at MBS_AUTHORIZATION.Application.Behaviors.TransactionPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\TransactionPipelineBehavior.cs:line 25
   at MBS_AUTHORIZATION.Application.Behaviors.PerformancePipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\PerformancePipelineBehavior.cs:line 23
   at MBS_AUTHORIZATION.Application.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\ValidationPipelineBehavior.cs:line 24
   at MBS_AUTHORIZATION.Presentation.APIs.Identity.AuthApi.LoginGoogleV1(ISender sender, LoginGoogle login) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS_AUTHORIZATION.Presentation\APIs\Identity\AuthApi.cs:line 38
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MBS_AUTHORIZATION.API.Middlewares.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.API\Middlewares\ExceptionHandlingMiddleware.cs:line 18
2024-09-29 17:32:09.574 +07:00 [ERR] Unable to cast object of type 'MBS_AUTHORIZATION.Contract.Abstractions.Shared.Result' to type 'MBS_AUTHORIZATION.Contract.Abstractions.Shared.Result`1[System.String]'.
System.InvalidCastException: Unable to cast object of type 'MBS_AUTHORIZATION.Contract.Abstractions.Shared.Result' to type 'MBS_AUTHORIZATION.Contract.Abstractions.Shared.Result`1[System.String]'.
   at MBS_AUTHORIZATION.Application.UserCases.Queries.Identitiy.GetLoginGoogleQueryHandler.Handle(LoginGoogle request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\UserCases\Queries\Identitiy\GetLoginGoogleQueryHandler.cs:line 21
   at MBS_AUTHORIZATION.Application.Behaviors.TracingPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\TracingPipelineBehavior.cs:line 23
   at MBS_AUTHORIZATION.Application.Behaviors.TransactionPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\TransactionPipelineBehavior.cs:line 25
   at MBS_AUTHORIZATION.Application.Behaviors.PerformancePipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\PerformancePipelineBehavior.cs:line 23
   at MBS_AUTHORIZATION.Application.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\ValidationPipelineBehavior.cs:line 24
   at MBS_AUTHORIZATION.Presentation.APIs.Identity.AuthApi.LoginGoogleV1(ISender sender, LoginGoogle login) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS_AUTHORIZATION.Presentation\APIs\Identity\AuthApi.cs:line 38
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MBS_AUTHORIZATION.API.Middlewares.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.API\Middlewares\ExceptionHandlingMiddleware.cs:line 18
2024-09-29 17:32:24.431 +07:00 [ERR] Unable to cast object of type 'MBS_AUTHORIZATION.Contract.Abstractions.Shared.Result' to type 'MBS_AUTHORIZATION.Contract.Abstractions.Shared.Result`1[System.String]'.
System.InvalidCastException: Unable to cast object of type 'MBS_AUTHORIZATION.Contract.Abstractions.Shared.Result' to type 'MBS_AUTHORIZATION.Contract.Abstractions.Shared.Result`1[System.String]'.
   at MBS_AUTHORIZATION.Application.UserCases.Queries.Identitiy.GetLoginGoogleQueryHandler.Handle(LoginGoogle request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\UserCases\Queries\Identitiy\GetLoginGoogleQueryHandler.cs:line 21
   at MBS_AUTHORIZATION.Application.Behaviors.TracingPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\TracingPipelineBehavior.cs:line 23
   at MBS_AUTHORIZATION.Application.Behaviors.TransactionPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\TransactionPipelineBehavior.cs:line 25
   at MBS_AUTHORIZATION.Application.Behaviors.PerformancePipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\PerformancePipelineBehavior.cs:line 23
   at MBS_AUTHORIZATION.Application.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\ValidationPipelineBehavior.cs:line 24
   at MBS_AUTHORIZATION.Presentation.APIs.Identity.AuthApi.LoginGoogleV1(ISender sender, LoginGoogle login) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS_AUTHORIZATION.Presentation\APIs\Identity\AuthApi.cs:line 38
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MBS_AUTHORIZATION.API.Middlewares.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.API\Middlewares\ExceptionHandlingMiddleware.cs:line 18
2024-09-29 17:34:30.695 +07:00 [WRN] Long Time Running - Request Details: LoginGoogle (11776 milliseconds) {"GoogleToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjVhYWZmNDdjMjFkMDZlMjY2Y2NlMzk1YjIxNDVjN2M2ZDQ3MzBlYTUiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiIyNTIyMDQzNTY3MTgtaTVmaWZhOGw2dG1oazQxZzFwNmU4c2J1NDNuNjNha2wuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiIyNTIyMDQzNTY3MTgtaGljZ2E4cnBndWgyNWxwZWp0YmxwNnRkanBnc3AxMG4uYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMTYwMzEyMDI4Nzg4OTA4NjA1MDgiLCJlbWFpbCI6ImRvc29uMjAwMjIwQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoic29uIGRvIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lyN3FlbERsOFRoU2ZWVS1wZ1NkQjhGa2dRUWhYRzY1eVJPWGlCdG1pdHlTTlgyQT1zOTYtYyIsImdpdmVuX25hbWUiOiJzb24iLCJmYW1pbHlfbmFtZSI6ImRvIiwiaWF0IjoxNzI3NjAzNTM4LCJleHAiOjE3Mjc2MDcxMzh9.E4TMhmQu_PNQdxgnwOWEXr049QzSGNJNk9hqW56YpTY3y8fTY4bj-xxP5tC23FHEzbiJLhUbvb-aU_VawZMkHvjtlSvckTbORaX952Pl6GIqjPjKHfiH19VPMkEFpofmsbZ8HN3BxWHlGXUt6EvAEPQOMEcVpGMoym9sCDv7qTOw1doUFIgq7YojkuFuAfVL1T13uqksiEb3vTFJw-lLla_Dl30MMzpsodURJl-eRoY-Y8DpMxg80oNyUjBjlPiHEaVHixRJg2OMtk6twyXQXBfVYI-ariPWLqMlpmJkUZroPVQY6bNpGk7rtRXEKGloWwo60_JqFh9sEX6aszWOlw","$type":"LoginGoogle"}
2024-09-29 18:53:59.455 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-29 18:54:00.501 +07:00 [ERR] Failed executing DbCommand (96ms) [Parameters=[@p0='0a20ba70-8a09-4bce-d11e-08dce07d6828', @p1='2024-09-29T11:54:00.3450344+00:00', @p2='doson200220@gmail.com' (Nullable = false) (Size = 4000), @p3='son do' (Size = 4000), @p4='False', @p5='True', @p6=NULL (DbType = Guid), @p7=NULL (DbType = DateTimeOffset), @p8=NULL (Nullable = false) (Size = 4000), @p9='0', @p10='1', @p11='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedOnUtc], [Email], [FullName], [IsDeleted], [IsFirstLogin], [MentorId], [ModifiedOnUtc], [Password], [Points], [Role], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-09-29 18:54:00.748 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'MBS_AUTHORIZATION.Persistence.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Password', table 'PRN_SUPER.dbo.Users'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e2f82c36-4ce5-44e0-9df9-d7acdf1a4a08
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Password', table 'PRN_SUPER.dbo.Users'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e2f82c36-4ce5-44e0-9df9-d7acdf1a4a08
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 18:54:01.262 +07:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Password', table 'PRN_SUPER.dbo.Users'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e2f82c36-4ce5-44e0-9df9-d7acdf1a4a08
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MBS_AUTHORIZATION.Persistence.EFUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS_AUTHORIZATION.Persistence\EFUnitOfWork.cs:line 21
   at MBS_AUTHORIZATION.Application.UserCases.Queries.Identitiy.GetLoginGoogleQueryHandler.Handle(LoginGoogle request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\UserCases\Queries\Identitiy\GetLoginGoogleQueryHandler.cs:line 34
   at MBS_AUTHORIZATION.Application.Behaviors.TracingPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\TracingPipelineBehavior.cs:line 23
   at MBS_AUTHORIZATION.Application.Behaviors.TransactionPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\TransactionPipelineBehavior.cs:line 25
   at MBS_AUTHORIZATION.Application.Behaviors.PerformancePipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\PerformancePipelineBehavior.cs:line 23
   at MBS_AUTHORIZATION.Application.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.Application\Behaviors\ValidationPipelineBehavior.cs:line 24
   at MBS_AUTHORIZATION.Presentation.APIs.Identity.AuthApi.LoginGoogleV1(ISender sender, LoginGoogle login) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS_AUTHORIZATION.Presentation\APIs\Identity\AuthApi.cs:line 38
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MBS_AUTHORIZATION.API.Middlewares.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\ADMIN\Desktop\PRN231\MBS\MBS-AUTHORIZATION\MBS-AUTHORIZATION.API\Middlewares\ExceptionHandlingMiddleware.cs:line 18
2024-09-29 18:55:00.276 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-29 18:55:10.645 +07:00 [WRN] Long Time Running - Request Details: LoginGoogle (12949 milliseconds) {"GoogleToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjVhYWZmNDdjMjFkMDZlMjY2Y2NlMzk1YjIxNDVjN2M2ZDQ3MzBlYTUiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiIyNTIyMDQzNTY3MTgtaTVmaWZhOGw2dG1oazQxZzFwNmU4c2J1NDNuNjNha2wuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiIyNTIyMDQzNTY3MTgtaGljZ2E4cnBndWgyNWxwZWp0YmxwNnRkanBnc3AxMG4uYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMTYwMzEyMDI4Nzg4OTA4NjA1MDgiLCJlbWFpbCI6ImRvc29uMjAwMjIwQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoic29uIGRvIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lyN3FlbERsOFRoU2ZWVS1wZ1NkQjhGa2dRUWhYRzY1eVJPWGlCdG1pdHlTTlgyQT1zOTYtYyIsImdpdmVuX25hbWUiOiJzb24iLCJmYW1pbHlfbmFtZSI6ImRvIiwiaWF0IjoxNzI3NjEwMzQ1LCJleHAiOjE3Mjc2MTM5NDV9.eAt9WVwF9bASQts58TvfiqWLQjikVktaMlYdvJGwRhxcbffX4U8NFDj5oGps6E1Cti6e-Ztxpi_GqgaYHi4TRf-ghOcVH_xdfDDpLjejbW9ELGbObkC4Xi01H2DA9pwJC7ew9mWjmFaPZA-EuI95IOX4-L-ivPzcfMn7HkIZkv6uUBRY6yXmOuTE7cezPyTblxCm8_Pd0CrwgkEOrQvbDLpmo22EjAhOP1sCn89WHqciahj1SjJhlIYirQrOzfaukE65dmmShU4AP9T-r8O6O0qlcXPucItRiYt_GGTLeSiIHvQFKVb1uCHH5px5dP7f3ZW1Cfp8G8QnrfbHLD43jw","$type":"LoginGoogle"}
2024-09-29 18:55:24.258 +07:00 [WRN] Long Time Running - Request Details: LoginGoogle (7079 milliseconds) {"GoogleToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjVhYWZmNDdjMjFkMDZlMjY2Y2NlMzk1YjIxNDVjN2M2ZDQ3MzBlYTUiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiIyNTIyMDQzNTY3MTgtaTVmaWZhOGw2dG1oazQxZzFwNmU4c2J1NDNuNjNha2wuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiIyNTIyMDQzNTY3MTgtaGljZ2E4cnBndWgyNWxwZWp0YmxwNnRkanBnc3AxMG4uYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMTYwMzEyMDI4Nzg4OTA4NjA1MDgiLCJlbWFpbCI6ImRvc29uMjAwMjIwQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoic29uIGRvIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lyN3FlbERsOFRoU2ZWVS1wZ1NkQjhGa2dRUWhYRzY1eVJPWGlCdG1pdHlTTlgyQT1zOTYtYyIsImdpdmVuX25hbWUiOiJzb24iLCJmYW1pbHlfbmFtZSI6ImRvIiwiaWF0IjoxNzI3NjEwMzQ1LCJleHAiOjE3Mjc2MTM5NDV9.eAt9WVwF9bASQts58TvfiqWLQjikVktaMlYdvJGwRhxcbffX4U8NFDj5oGps6E1Cti6e-Ztxpi_GqgaYHi4TRf-ghOcVH_xdfDDpLjejbW9ELGbObkC4Xi01H2DA9pwJC7ew9mWjmFaPZA-EuI95IOX4-L-ivPzcfMn7HkIZkv6uUBRY6yXmOuTE7cezPyTblxCm8_Pd0CrwgkEOrQvbDLpmo22EjAhOP1sCn89WHqciahj1SjJhlIYirQrOzfaukE65dmmShU4AP9T-r8O6O0qlcXPucItRiYt_GGTLeSiIHvQFKVb1uCHH5px5dP7f3ZW1Cfp8G8QnrfbHLD43jw","$type":"LoginGoogle"}
